<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Pos Pro Admin</title>
</head>
<body>

<h2>إدارة الاشتراكات</h2>
<div id="users"></div>

<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>

<script>
firebase.initializeApp({
 apiKey:"AIzaSyBZwWxWIIE0exAPoL9P8pbmp19gnBFxQq0",
 authDomain:"pos-pro-996f0.firebaseapp.com",
 projectId:"pos-pro-996f0"
});

const db=firebase.firestore();

db.collection("users").onSnapshot(s=>{
 users.innerHTML="";
 s.forEach(d=>{
  let u=d.data();
  users.innerHTML+=`
  <div>
   ${u.email} - ${u.subscription}
   <button onclick="activate('${d.id}')">تفعيل</button>
  </div>`;
 });
});

function activate(id){
 db.collection("users").doc(id).update({subscription:"active"});
}
</script>

</body>
</html>
